
## สิ่งที่ทำใน project นี้
## Developer By Warathep (Ton)

This project is used by the following companies:

- Relationship Data แบบ OneToOne, OneToMany, ManyToMnay

- การทำ Seeding หรือ Factory data  แบบเพิ่มทีละอัน และ เพิ่มพร้อมๆกันกับการสุ่มข้อมูลจากตารางอื่นมาใส่ในตารางที่มีความสัมพันธุ์ โดย Factory แบบ fake ข้อมุลที่มีความสัมพันธุ์ไปพร้อมกันจะอยู่ที่ src/seeding/... 
    
    ส่วนการเพิ่มข้อมูลโดยตรงที หรือการเพิ่มข้อมูลของตารางที่ไม่มีความสัมพันธุ์ จะอธิบายละเอียดอยู่ใน src/testing/...
    ซึ่งการ factory ในไฟล์นี้จะเป็นการ factory แบบโดยตรง
    
    และได้อธิบายถึงพื้นฐาน class, instance ไว้ด้วย รวมถึงการใช้ static ซึ่งจำเป็นต้องรู้

- Pagination การแบ่งส่วนข้อมูลที่ไปดึงออกมา (skip, limit)

- การ hash password โดยใช้ bcrypt ทั้งสองแบบ ใช้ทั้งใน entity, service

- Authenticaion จะมีส่วน Login และจัดการข้อมูลผ่านการตรวจสอบ token เป็นการอธิบายอย่างละเอียด

- Refresh Token refreshToken คือโทเค็นชนิดหนึ่งที่ใช้ในการจัดการ session หรือการเข้าสู่ระบบที่ต้องการความปลอดภัยเป็นพิเศษ มักใช้ควบคู่กับ accessToken ในระบบ Authentication 
    
    #### accessToken:
        เป็นโทเค็นที่ใช้ในการยืนยันตัวตนของผู้ใช้เวลาจะเข้าถึงข้อมูลหรือบริการบางอย่าง
        โดยปกติมีอายุการใช้งานสั้น (เช่น 15 นาที - 1 ชั่วโมง) เพื่อป้องกันการถูกขโมยแล้วใช้ต่อ

    #### refreshToken:
        มีไว้เพื่อ "รีเฟรช" หรือสร้าง accessToken ใหม่เมื่อหมดอายุ
        อายุของ refreshToken จะนานกว่า accessToken มาก เช่น 1 วันหรือหลายสัปดาห์ ทำให้เราไม่ต้องขอให้ผู้ใช้ล็อกอินใหม่ทุกครั้ง
        เมื่อ accessToken หมดอายุ ระบบจะใช้ refreshToken สร้าง accessToken ใหม่ได้โดยไม่ต้องให้ผู้ใช้ล็อกอินใหม่

    ### ตัวอย่างจากระบบ Google (เช่น Gmail หรือ Google Drive)
    -  เมื่อคุณล็อกอินเข้า Gmail หรือ Google Drive:

    - ล็อกอินเข้าสู่ระบบ: เมื่อคุณล็อกอินสำเร็จ Google จะสร้าง accessToken กับ refreshToken ให้ โดย accessToken ใช้เข้าใช้งาน Gmail หรือ Google Drive และมีอายุสั้น ส่วน refreshToken จะเก็บไว้เพื่อใช้ต่ออายุการใช้งาน

    - หมดอายุของ accessToken: เมื่อ accessToken หมดอายุ (เช่น หลังจาก 1 ชั่วโมง) หากคุณกำลังใช้งาน Google Drive อยู่ เบราว์เซอร์จะตรวจสอบว่ามี refreshToken หรือไม่

    - รีเฟรชโทเค็น: เบราว์เซอร์จะส่ง refreshToken ไปที่เซิร์ฟเวอร์ของ Google เพื่อขอโทเค็นใหม่ ทำให้คุณใช้งาน Google Drive ต่อไปได้โดยไม่ต้องล็อกอินใหม่

    - หมดอายุของ refreshToken: ถ้า refreshToken หมดอายุ (เช่น หลังจากหลายวันหรือหลายเดือน) คุณจะต้องล็อกอินใหม่ แต่สิ่งนี้เกิดขึ้นไม่บ่อยนัก ช่วยให้ผู้ใช้ไม่ต้องล็อกอินใหม่ทุกครั้งที่เข้าใช้งาน

    การทำงานใน project นี้ เมื่อ login เข้าไปแล้วจะได้รับ accessToken, refreshToken โดย accessToken จะสามารถจัดการข้อมูลต่างๆ ได้เป็นเวลา 30 วินาที หลังจากหมดเวลาแล้ว จากนั้นยัง request ไปที่ /auth/refersh จะเป็นการนำ refreshToken ไปสร้าง accessToken ใหม่ให้และจัดการข้อมุลได้ต่อ และ refreshToken ก็มีวันหมดอายุ แต่จะนานกว่ามาก เมื่อหมดอายุ จะต้อง login ใหม่
